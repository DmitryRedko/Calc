# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'calc.ui'
#
# Created by: PyQt5 UI code generator 5.15.7
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.

import calcwidget
from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtWidgets import QMessageBox
from math import cos
from math import sin
from math import tan
from math import sqrt
from math import log as ln
from math import log10 as lg
from math import factorial as fact


class Ui_MainWindow(object):
    __flag = False

    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(772, 478)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.tabWidget = QtWidgets.QTabWidget(self.centralwidget)
        self.tabWidget.setGeometry(QtCore.QRect(-10, 0, 800, 600))
        self.tabWidget.setStyleSheet("background-color: rgb(180, 188, 255);")
        self.tabWidget.setObjectName("tabWidget")
        self.Calc = QtWidgets.QWidget()
        self.Calc.setObjectName("Calc")
        self.devide = QtWidgets.QPushButton(self.Calc)
        self.devide.setGeometry(QtCore.QRect(355, 90, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.devide.setFont(font)
        self.devide.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.devide.setObjectName("devide")
        self.three = QtWidgets.QPushButton(self.Calc)
        self.three.setGeometry(QtCore.QRect(205, 360, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.three.setFont(font)
        self.three.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.three.setObjectName("three")
        self.zero = QtWidgets.QPushButton(self.Calc)
        self.zero.setGeometry(QtCore.QRect(55, 90, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.zero.setFont(font)
        self.zero.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.zero.setObjectName("zero")
        self.multiply = QtWidgets.QPushButton(self.Calc)
        self.multiply.setGeometry(QtCore.QRect(280, 90, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.multiply.setFont(font)
        self.multiply.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.multiply.setObjectName("multiply")
        self.five = QtWidgets.QPushButton(self.Calc)
        self.five.setGeometry(QtCore.QRect(130, 270, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.five.setFont(font)
        self.five.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.five.setObjectName("five")
        self.two = QtWidgets.QPushButton(self.Calc)
        self.two.setGeometry(QtCore.QRect(130, 360, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.two.setFont(font)
        self.two.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.two.setObjectName("two")
        self.six = QtWidgets.QPushButton(self.Calc)
        self.six.setGeometry(QtCore.QRect(205, 270, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.six.setFont(font)
        self.six.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.six.setObjectName("six")
        self.result = QtWidgets.QLabel(self.Calc)
        self.result.setGeometry(QtCore.QRect(55, 0, 670, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.result.setFont(font)
        self.result.setStyleSheet("background-color: rgb(85, 255, 241);")
        self.result.setObjectName("result")
        self.eight = QtWidgets.QPushButton(self.Calc)
        self.eight.setGeometry(QtCore.QRect(130, 180, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.eight.setFont(font)
        self.eight.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.eight.setObjectName("eight")
        self.four = QtWidgets.QPushButton(self.Calc)
        self.four.setGeometry(QtCore.QRect(55, 270, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.four.setFont(font)
        self.four.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.four.setObjectName("four")
        self.seven = QtWidgets.QPushButton(self.Calc)
        self.seven.setGeometry(QtCore.QRect(55, 180, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.seven.setFont(font)
        self.seven.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.seven.setObjectName("seven")
        self.nine = QtWidgets.QPushButton(self.Calc)
        self.nine.setGeometry(QtCore.QRect(205, 180, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.nine.setFont(font)
        self.nine.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.nine.setObjectName("nine")
        self.plas = QtWidgets.QPushButton(self.Calc)
        self.plas.setGeometry(QtCore.QRect(130, 90, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.plas.setFont(font)
        self.plas.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.plas.setObjectName("plas")
        self.mines = QtWidgets.QPushButton(self.Calc)
        self.mines.setGeometry(QtCore.QRect(205, 90, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.mines.setFont(font)
        self.mines.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.mines.setObjectName("mines")
        self.equals = QtWidgets.QPushButton(self.Calc)
        self.equals.setGeometry(QtCore.QRect(500, 360, 225, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.equals.setFont(font)
        self.equals.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.equals.setObjectName("equals")
        self.one = QtWidgets.QPushButton(self.Calc)
        self.one.setGeometry(QtCore.QRect(55, 360, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.one.setFont(font)
        self.one.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.one.setObjectName("one")
        self.dot = QtWidgets.QPushButton(self.Calc)
        self.dot.setGeometry(QtCore.QRect(500, 180, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.dot.setFont(font)
        self.dot.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.dot.setObjectName("dot")
        self.pow = QtWidgets.QPushButton(self.Calc)
        self.pow.setGeometry(QtCore.QRect(430, 90, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.pow.setFont(font)
        self.pow.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.pow.setObjectName("pow")
        self.cos = QtWidgets.QPushButton(self.Calc)
        self.cos.setGeometry(QtCore.QRect(280, 180, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.cos.setFont(font)
        self.cos.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.cos.setObjectName("cos")
        self.sin = QtWidgets.QPushButton(self.Calc)
        self.sin.setGeometry(QtCore.QRect(355, 180, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.sin.setFont(font)
        self.sin.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.sin.setObjectName("sin")
        self.tan = QtWidgets.QPushButton(self.Calc)
        self.tan.setGeometry(QtCore.QRect(280, 270, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.tan.setFont(font)
        self.tan.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.tan.setObjectName("tan")
        self.ctg = QtWidgets.QPushButton(self.Calc)
        self.ctg.setGeometry(QtCore.QRect(355, 270, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.ctg.setFont(font)
        self.ctg.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.ctg.setObjectName("ctg")
        self.ln = QtWidgets.QPushButton(self.Calc)
        self.ln.setGeometry(QtCore.QRect(280, 360, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.ln.setFont(font)
        self.ln.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.ln.setObjectName("ln")
        self.lg = QtWidgets.QPushButton(self.Calc)
        self.lg.setGeometry(QtCore.QRect(355, 360, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.lg.setFont(font)
        self.lg.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.lg.setObjectName("lg")
        self.exp = QtWidgets.QPushButton(self.Calc)
        self.exp.setGeometry(QtCore.QRect(430, 180, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.exp.setFont(font)
        self.exp.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.exp.setObjectName("exp")
        self.consts = QtWidgets.QPushButton(self.Calc)
        self.consts.setGeometry(QtCore.QRect(500, 270, 150, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.consts.setFont(font)
        self.consts.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.consts.setObjectName("consts")
        self.sqrt = QtWidgets.QPushButton(self.Calc)
        self.sqrt.setGeometry(QtCore.QRect(430, 270, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.sqrt.setFont(font)
        self.sqrt.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.sqrt.setObjectName("sqrt")
        self.factorial = QtWidgets.QPushButton(self.Calc)
        self.factorial.setGeometry(QtCore.QRect(430, 360, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.factorial.setFont(font)
        self.factorial.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.factorial.setObjectName("factorial")
        self.bracket_left = QtWidgets.QPushButton(self.Calc)
        self.bracket_left.setGeometry(QtCore.QRect(575, 180, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.bracket_left.setFont(font)
        self.bracket_left.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.bracket_left.setObjectName("bracket_left")
        self.bracket_right = QtWidgets.QPushButton(self.Calc)
        self.bracket_right.setGeometry(QtCore.QRect(650, 180, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.bracket_right.setFont(font)
        self.bracket_right.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.bracket_right.setObjectName("bracket_right")
        self.persent = QtWidgets.QPushButton(self.Calc)
        self.persent.setGeometry(QtCore.QRect(650, 90, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.persent.setFont(font)
        self.persent.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.persent.setObjectName("persent")
        self.abs = QtWidgets.QPushButton(self.Calc)
        self.abs.setGeometry(QtCore.QRect(505, 90, 70, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.abs.setFont(font)
        self.abs.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.abs.setObjectName("abs")
        self.ans = QtWidgets.QPushButton(self.Calc)
        self.ans.setGeometry(QtCore.QRect(575, 90, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.ans.setFont(font)
        self.ans.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.ans.setObjectName("ans")
        self.backspace = QtWidgets.QPushButton(self.Calc)
        self.backspace.setGeometry(QtCore.QRect(650, 270, 75, 90))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Variable")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.backspace.setFont(font)
        self.backspace.setStyleSheet("background-color: rgb(77, 255, 37);")
        self.backspace.setObjectName("backspace")
        self.tabWidget.addTab(self.Calc, "")

        MainWindow.setCentralWidget(self.centralwidget)

        self.retranslateUi(MainWindow)
        self.tabWidget.setCurrentIndex(0)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)
        self.__add_functions()

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        self.devide.setText(_translate("MainWindow", "/"))
        self.three.setText(_translate("MainWindow", "3"))
        self.zero.setText(_translate("MainWindow", "0"))
        self.multiply.setText(_translate("MainWindow", "*"))
        self.five.setText(_translate("MainWindow", "5"))
        self.two.setText(_translate("MainWindow", "2"))
        self.six.setText(_translate("MainWindow", "6"))
        self.result.setText(_translate("MainWindow", "0"))
        self.eight.setText(_translate("MainWindow", "8"))
        self.four.setText(_translate("MainWindow", "4"))
        self.seven.setText(_translate("MainWindow", "7"))
        self.nine.setText(_translate("MainWindow", "9"))
        self.plas.setText(_translate("MainWindow", "+"))
        self.mines.setText(_translate("MainWindow", "-"))
        self.equals.setText(_translate("MainWindow", "="))
        self.one.setText(_translate("MainWindow", "1"))
        self.dot.setText(_translate("MainWindow", "."))
        self.pow.setText(_translate("MainWindow", "pow"))
        self.cos.setText(_translate("MainWindow", "cos"))
        self.sin.setText(_translate("MainWindow", "sin"))
        self.tan.setText(_translate("MainWindow", "tan"))
        self.ctg.setText(_translate("MainWindow", "ctg"))
        self.ln.setText(_translate("MainWindow", "ln"))
        self.lg.setText(_translate("MainWindow", "lg"))
        self.exp.setText(_translate("MainWindow", "exp"))
        self.consts.setText(_translate("MainWindow", "Consts"))
        self.sqrt.setText(_translate("MainWindow", "sqrt"))
        self.factorial.setText(_translate("MainWindow", "x!"))
        self.bracket_left.setText(_translate("MainWindow", "("))
        self.bracket_right.setText(_translate("MainWindow", ")"))
        self.persent.setText(_translate("MainWindow", "%"))
        self.abs.setText(_translate("MainWindow", "abs"))
        self.ans.setText(_translate("MainWindow", "ans"))
        self.backspace.setText(_translate("MainWindow", "<---"))


    def __add_functions(self):
        self.zero.clicked.connect(lambda: self.write_number(self.zero.text()))
        self.one.clicked.connect(lambda: self.write_number(self.one.text()))
        self.two.clicked.connect(lambda: self.write_number(self.two.text()))
        self.three.clicked.connect(lambda: self.write_number(self.three.text()))
        self.four.clicked.connect(lambda: self.write_number(self.four.text()))
        self.five.clicked.connect(lambda: self.write_number(self.five.text()))
        self.six.clicked.connect(lambda: self.write_number(self.six.text()))
        self.seven.clicked.connect(lambda: self.write_number(self.seven.text()))
        self.eight.clicked.connect(lambda: self.write_number(self.eight.text()))
        self.nine.clicked.connect(lambda: self.write_number(self.nine.text()))
        self.plas.clicked.connect(lambda: self.write_number(self.plas.text()))
        self.multiply.clicked.connect(lambda: self.write_number(self.multiply.text()))
        self.devide.clicked.connect(lambda: self.write_number(self.devide.text()))
        self.mines.clicked.connect(lambda: self.write_number(self.mines.text()))
        self.pow.clicked.connect(lambda: self.__write_number_pow(self.pow.text()))
        self.dot.clicked.connect(lambda: self.write_number(self.dot.text()))
        self.sin.clicked.connect(lambda: self.write_number(self.sin.text()))
        self.cos.clicked.connect(lambda: self.write_number(self.cos.text()))
        self.tan.clicked.connect(lambda: self.write_number(self.tan.text()))
        self.ctg.clicked.connect(lambda: self.write_number(self.ctg.text()))
        self.ln.clicked.connect(lambda: self.write_number(self.ln.text()))
        self.lg.clicked.connect(lambda: self.write_number(self.lg.text()))
        self.sqrt.clicked.connect(lambda: self.write_number(self.sqrt.text()))
        self.persent.clicked.connect(lambda: self.__write_number__persent(self.persent.text()))
        self.abs.clicked.connect(lambda: self.write_number(self.abs.text()))
        self.ans.clicked.connect(lambda: self.__write_number_ans())
        self.bracket_left.clicked.connect(lambda: self.write_number(self.bracket_left.text()))
        self.bracket_right.clicked.connect(lambda: self.write_number(self.bracket_right.text()))
        self.equals.clicked.connect(self.__results)
        self.backspace.clicked.connect(self.__backspacedef)
        self.factorial.clicked.connect(lambda: self.__write_number_factorial())

    __ans = None
    def __write_number__persent(self, persent):
        if self.result.text() == "0" or self.__flag:
            self.result.setText("/100")
            self.__flag = False
        else:
            self.result.setText(self.result.text() + "/100")

    def __write_number_factorial(self):
        if self.result.text() == "0" or self.__flag:
            self.result.setText("fact")
            self.__flag = False
        else:
            self.result.setText(self.result.text() + "fact")

    def write_number(self, number):
        if self.result.text() == "0" or self.__flag:
            self.result.setText(number)
            self.__flag = False
        else:
            self.result.setText(self.result.text() + number)

    def __write_number_pow(self, number):
        if self.result.text() == "0" or self.__flag:
            self.result.setText("**")
            self.__flag = False
        else:
            self.result.setText(self.result.text() + "**")

    def __write_number_ans(self):
        if self.result.text() == "0" or self.__flag:
            self.result.setText(f"{self.__ans}")
            self.__flag = False
        else:
            self.result.setText(self.result.text() + f"{self.__ans}")

    def __results(self):
        try:

            res = eval(self.result.text())
            self.result.setText(f"Результат: {res}")
            self.__ans = res
            self.__flag = True
        except:
            self.result.setText(f"Что-то не так")
            self.__flag = True

    def __backspacedef(self):
        try:
            s = self.result.text()
            self.result.setText(s[:-1])
        except:
            self.result.setText(f"Что-то не так")
            self.__flag = True


def ctg(x):
    return 1 / tan(x)


if __name__ == "__main__":
    import sys

    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec_())
